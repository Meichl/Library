{% extends "layout.html" %}

{% block content %}
<div class="container">
    <div class="card">
        <div class="card-header">
            <h2>{% if livro %}Editar{% else %}Novo{% endif %} Livro</h2>
        </div>
        <div class="card-body">
            <form method="post">
                <div class="mb-3">
                    <label for="titulo" class="form-label">Título*</label>
                    <input type="text" class="form-control" id="titulo" name="titulo" required
                           value="{{ livro.titulo if livro else '' }}">
                </div>
                <div class="mb-3">
                    <label for="autor" class="form-label">Autor*</label>
                    <input type="text" class="form-control" id="autor" name="autor" required
                           value="{{ livro.autor if livro else '' }}">
                </div>
                <div class="mb-3">
                    <label for="ano" class="form-label">Ano de Publicação*</label>
                    <input type="number" class="form-control" id="ano" name="ano" required
                           value="{{ livro.ano if livro else '' }}">
                </div>
                <div class="mb-3">
                    <label for="isbn" class="form-label">ISBN</label>
                    <input type="text" class="form-control" id="isbn" name="isbn"
                           value="{{ livro.isbn if livro else '' }}">
                </div>
                <div class="mb-3">
                    <label for="genero" class="form-label">Gênero</label>
                    <select class="form-select" id="genero" name="genero">
                        <option value="" {% if not livro or not livro.genero %}selected{% endif %}>Selecione um gênero</option>
                        <option value="Romance" {% if livro and livro.genero == 'Romance' %}selected{% endif %}>Romance</option>
                        <option value="Ficção Científica" {% if livro and livro.genero == 'Ficção Científica' %}selected{% endif %}>Ficção Científica</option>
                        <option value="Fantasia" {% if livro and livro.genero == 'Fantasia' %}selected{% endif %}>Fantasia</option>
                        <option value="Biografia" {% if livro and livro.genero == 'Biografia' %}selected{% endif %}>Biografia</option>
                        <option value="História" {% if livro and livro.genero == 'História' %}selected{% endif %}>História</option>
                        <option value="Ciência" {% if livro and livro.genero == 'Ciência' %}selected{% endif %}>Ciência</option>
                        <option value="Autoajuda" {% if livro and livro.genero == 'Autoajuda' %}selected{% endif %}>Autoajuda</option>
                        <option value="Literatura Infantil" {% if livro and livro.genero == 'Literatura Infantil' %}selected{% endif %}>Literatura Infantil</option>
                        <option value="Poesia" {% if livro and livro.genero == 'Poesia' %}selected{% endif %}>Poesia</option>
                        <option value="Outro" {% if livro and livro.genero and livro.genero not in ['Romance', 'Ficção Científica', 'Fantasia', 'Biografia', 'História', 'Ciência', 'Autoajuda', 'Literatura Infantil', 'Poesia'] %}selected{% endif %}>Outro</option>
                    </select>
                </div>
                <div class="d-flex justify-content-between">
                    <a href="{{ url_for('listar_livros') }}" class="btn btn-secondary">Cancelar</a>
                    <button type="submit" class="btn btn-primary">
                        {% if livro %}Atualizar{% else %}Adicionar{% endif %} Livro
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}